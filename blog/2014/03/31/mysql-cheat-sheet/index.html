<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="http://rushiagr.github.io/blog/2014/03/31/mysql-cheat-sheet/index.html" />

    <title>  Sense, and Simplicity &mdash; MySQL Cheat Sheet
</title>



      <link type="application/rss+xml" rel="alternate" href="/feeds/all.rss.xml" title="Sense, and Simplicity RSS Feed">

    <link rel="stylesheet" href="http://rushiagr.github.io/theme/css/style.css">

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-37074962-1', 'auto');
    ga('send', 'pageview');

  </script>

    <meta name="author" content="Rushi Agrawal">
  <meta name="tags" contents="tech, cheatsheet, tutorial, ubuntu, mysql, quickstart, ">
</head>

<body>
<header class="header">
  <div class="container">
    <div class="header-inner">
      <h1 class="header-name">
        <a class="nodec" href="http://rushiagr.github.io">Sense, and Simplicity</a>
      </h1>
      <h3 class="header-text">On interactions between softwares and humans. Rushi Agrawal's blog.</h3>
      <ul class="header-menu list-inline">
              <li class="muted">|</li>
            <li><a class="nodec" href="http://rushiagr.github.io/pages/about-me.html">About me</a></li>
              <li class="muted">|</li>
          <li><a class="nodec icon-github" href="https://github.com/rushiagr"></a></li>
          <li><a class="nodec icon-twitter" href="https://twitter.com/rushiagr"></a></li>
          <li><a class="nodec icon-rss" href="/feeds/all.rss.xml"></a></li>
      </ul>
    </div>
  </div>
</header> <!-- /.header -->  <div class="container">
  <div class="post full-post">
    <h1 class="post-title">
      <a href="/blog/2014/03/31/mysql-cheat-sheet/" title="Permalink to MySQL Cheat Sheet">MySQL Cheat Sheet</a>
    </h1>
    <ul class="list-inline">
      <li class="post-date">
        <a class="text-muted" href="/blog/2014/03/31/mysql-cheat-sheet/" title="2014-03-31T00:00:00">Mon 31 March 2014</a>
      </li>
      <li class="muted">&middot;</li>
      <li class="post-category">
        <a href="http://rushiagr.github.io/category/tech.html">tech</a>
      </li>
        <li class="muted">&middot;</li>
        <li>
            <a href="/tag/tech.html">tech</a>,             <a href="/tag/cheatsheet.html">cheatsheet</a>,             <a href="/tag/tutorial.html">tutorial</a>,             <a href="/tag/ubuntu.html">ubuntu</a>,             <a href="/tag/mysql.html">mysql</a>,             <a href="/tag/quickstart.html">quickstart</a>        </li>
    </ul>
    <div class="post-content">
      <p>Databases are so important, yet almost all the time I need to work with it, I find that I have already forgotten all the syntax! So here I am writing down a quick cheat sheet to get me up and running when I'm waking up from slumber. I hope this will help atleast one other guy on this planet.</p>
<!-- more -->

<p>I use mostly Ubuntu, so some of the commands might be Ubuntu specific.</p>
<p>Install mysql</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">mysql</span><span class="o">-</span><span class="n">server</span>
</pre></div>


<p>A prompt will ask for the root password.</p>
<p>To change the root password:</p>
<div class="highlight"><pre><span class="n">FLUSH</span> <span class="n">PRIVILEGES</span><span class="p">;</span>
    <span class="n">UPDATE</span> <span class="n">mysql</span><span class="p">.</span><span class="n">user</span> <span class="n">SET</span> <span class="n">password</span><span class="o">=</span><span class="n">PASSWORD</span><span class="p">(</span><span class="err">&#39;</span><span class="n">nova</span><span class="err">&#39;</span><span class="p">)</span> <span class="n">WHERE</span> <span class="n">user</span><span class="o">=</span><span class="err">&#39;</span><span class="n">root</span><span class="err">&#39;</span><span class="p">;</span>
</pre></div>


<p>NOTE: MySQL keywords are case insensitive. They're represented in capital here just so that they appear different than the rest. When you're just testing out some things logging into the DB console, people generally prefer writing in small caps. </p>
<p>Note that <code>PASSWORD</code> is a function, and unlike other MySQL keywords cannot be used in small caps.</p>
<p>Log into MySQL console with user <code>root</code> and password <code>mysecretpassword</code>:</p>
<div class="highlight"><pre><span class="n">mysql</span> <span class="o">-</span><span class="n">uroot</span> <span class="o">-</span><span class="n">pmysecretpassword</span>
</pre></div>


<p>or</p>
<div class="highlight"><pre><span class="n">mysql</span> <span class="o">-</span><span class="n">u</span><span class="err">&#39;</span><span class="n">root</span><span class="err">&#39;</span> <span class="o">-</span><span class="n">p</span><span class="err">&#39;</span><span class="n">mysecretpassword</span><span class="err">&#39;</span>
</pre></div>


<p>or entering the password in 'secret' mode:</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">mysql</span> <span class="o">-</span><span class="n">uroot</span> <span class="o">-</span><span class="n">p</span>
<span class="n">Enter</span> <span class="n">password</span><span class="o">:</span>
</pre></div>


<h3>MySQL console</h3>
<p>List all databases:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">SHOW</span> <span class="n">DATABASES</span><span class="p">;</span>
<span class="o">+--------------------+</span>
<span class="o">|</span> <span class="n">Database</span>           <span class="o">|</span>
<span class="o">+--------------------+</span>
<span class="o">|</span> <span class="n">information_schema</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">mysql</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">performance_schema</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>               <span class="o">|</span>
<span class="o">+--------------------+</span>
<span class="mi">4</span> <span class="n">rows</span> <span class="n">in</span> <span class="n">set</span> <span class="p">(</span><span class="mf">0.01</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Create a new database <code>rushi</code>:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">CREATE</span> <span class="n">DATABASE</span> <span class="n">rushi</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="n">show</span> <span class="n">databases</span><span class="p">;</span>
<span class="o">+--------------------+</span>
<span class="o">|</span> <span class="n">Database</span>           <span class="o">|</span>
<span class="o">+--------------------+</span>
<span class="o">|</span> <span class="n">information_schema</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">mysql</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">performance_schema</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">rushi</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>               <span class="o">|</span>
<span class="o">+--------------------+</span>
<span class="mi">5</span> <span class="n">rows</span> <span class="n">in</span> <span class="n">set</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Select database <code>rushi</code>, so that all the further operations are executed inside this database:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">USE</span> <span class="n">rushi</span><span class="p">;</span>
<span class="n">Database</span> <span class="n">changed</span>
</pre></div>


<p>Create a table <code>friends</code> inside <code>rushi</code> database:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">friends</span> <span class="p">(</span><span class="n">name</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">age</span> <span class="n">INT</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mf">0.03</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>If you didn't select the database in the last to last command, you need to specify table in this format:<code>&lt;database&gt;.&lt;tablename&gt;</code>. So the last command would look like:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">rushi</span><span class="p">.</span><span class="n">friends</span> <span class="p">(</span><span class="n">name</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">age</span> <span class="n">INT</span><span class="p">);</span>
</pre></div>


<p>List all the tables:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">show</span> <span class="n">tables</span><span class="p">;</span>
<span class="o">+-----------------+</span>
<span class="o">|</span> <span class="n">Tables_in_rushi</span> <span class="o">|</span>
<span class="o">+-----------------+</span>
<span class="o">|</span> <span class="n">friends</span>         <span class="o">|</span>
<span class="o">+-----------------+</span>
<span class="mi">1</span> <span class="n">rows</span> <span class="n">in</span> <span class="n">set</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Insert data into <code>friends</code>:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">friends</span> <span class="n">VALUES</span> <span class="p">(</span><span class="err">&#39;</span><span class="n">arvind</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">24</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mf">0.01</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Display all the data from the table:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">friends</span><span class="p">;</span>
<span class="o">+--------+------+</span>
<span class="o">|</span> <span class="n">name</span>   <span class="o">|</span> <span class="n">age</span>  <span class="o">|</span>
<span class="o">+--------+------+</span>
<span class="o">|</span> <span class="n">arvind</span> <span class="o">|</span>   <span class="mi">24</span> <span class="o">|</span>
<span class="o">+--------+------+</span>
<span class="mi">1</span> <span class="n">row</span> <span class="n">in</span> <span class="n">set</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Insert another friend:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">friends</span> <span class="n">VALUES</span> <span class="p">(</span><span class="err">&#39;</span><span class="n">honshu</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">friends</span><span class="p">;</span>
<span class="o">+--------+------+</span>
<span class="o">|</span> <span class="n">name</span>   <span class="o">|</span> <span class="n">age</span>  <span class="o">|</span>
<span class="o">+--------+------+</span>
<span class="o">|</span> <span class="n">arvind</span> <span class="o">|</span>   <span class="mi">24</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">honshu</span> <span class="o">|</span>   <span class="mi">23</span> <span class="o">|</span>
<span class="o">+--------+------+</span>
<span class="mi">2</span> <span class="n">rows</span> <span class="n">in</span> <span class="n">set</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Update a row in the table:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">UPDATE</span> <span class="n">friends</span> <span class="n">SET</span> <span class="n">age</span><span class="o">=</span><span class="mi">22</span> <span class="n">WHERE</span> <span class="n">name</span><span class="o">=</span><span class="err">&#39;</span><span class="n">honshu</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mf">0.02</span> <span class="n">sec</span><span class="p">)</span>
<span class="n">Rows</span> <span class="n">matched</span><span class="o">:</span> <span class="mi">1</span>  <span class="n">Changed</span><span class="o">:</span> <span class="mi">1</span>  <span class="n">Warnings</span><span class="o">:</span> <span class="mi">0</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">friends</span><span class="p">;</span>
<span class="o">+--------+------+</span>
<span class="o">|</span> <span class="n">name</span>   <span class="o">|</span> <span class="n">age</span>  <span class="o">|</span>
<span class="o">+--------+------+</span>
<span class="o">|</span> <span class="n">arvind</span> <span class="o">|</span>   <span class="mi">24</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">honshu</span> <span class="o">|</span>   <span class="mi">22</span> <span class="o">|</span>
<span class="o">+--------+------+</span>
<span class="mi">2</span> <span class="n">rows</span> <span class="n">in</span> <span class="n">set</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Delete a row from table:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">DELETE</span> <span class="n">FROM</span> <span class="n">friends</span> <span class="n">WHERE</span> <span class="n">age</span><span class="o">=</span><span class="mi">24</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="n">select</span> <span class="o">*</span> <span class="n">from</span> <span class="n">friends</span><span class="p">;</span>
<span class="o">+--------+------+</span>
<span class="o">|</span> <span class="n">name</span>   <span class="o">|</span> <span class="n">age</span>  <span class="o">|</span>
<span class="o">+--------+------+</span>
<span class="o">|</span> <span class="n">honshu</span> <span class="o">|</span>   <span class="mi">22</span> <span class="o">|</span>
<span class="o">+--------+------+</span>
<span class="mi">1</span> <span class="n">row</span> <span class="n">in</span> <span class="n">set</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Delete all rows from the table in one go, and reset the autoincrement if any:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">TRUNCATE</span> <span class="n">friends</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mf">0.04</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<p>Delete the table and all of its contents:</p>
<div class="highlight"><pre><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">DROP</span> <span class="n">TABLE</span> <span class="n">friends</span><span class="p">;</span>
</pre></div>


<p>Other commonly used commands are listed below. Try to try all of them out atleast once.
Count the number of rows in a table:</p>
<div class="highlight"><pre><span class="n">SELECT</span> <span class="n">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">FROM</span> <span class="n">friends</span><span class="p">;</span>
</pre></div>


<p>Select distinct values for a row, and order them too:</p>
<div class="highlight"><pre><span class="n">SELECT</span> <span class="n">DISTINCT</span> <span class="n">age</span> <span class="n">FROM</span> <span class="n">friends</span> <span class="n">ORDER</span> <span class="n">BY</span> <span class="n">age</span><span class="p">;</span>
</pre></div>


<p>Modify table to add one more column to it:</p>
<div class="highlight"><pre><span class="n">ALTER</span> <span class="n">TABLE</span> <span class="n">friend</span> <span class="n">ADD</span> <span class="n">height</span> <span class="nf">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</pre></div>


<p>Use regular expressions:</p>
<div class="highlight"><pre><span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">friend</span> <span class="n">WHERE</span> <span class="n">name</span> <span class="n">REGEXP</span> <span class="err">&#39;</span><span class="n">arv</span><span class="o">*</span><span class="err">&#39;</span><span class="p">;</span>
</pre></div>


<p>CAUTION: Regular expressions comes with some binary/encoding trickery. Use it with a lot of caution.</p>
<p>Create a new user for the database, and give it all the root privileges</p>
<div class="highlight"><pre><span class="n">CREATE</span> <span class="n">USER</span> <span class="err">&#39;</span><span class="n">rushiagr</span><span class="sc">&#39;@&#39;</span><span class="n">localhost</span><span class="err">&#39;</span> <span class="n">IDENTIFIED</span> <span class="n">BY</span> <span class="err">&#39;</span><span class="n">mysecretpass</span><span class="err">&#39;</span>
<span class="n">GRANT</span> <span class="n">ALL</span> <span class="n">PRIVILEGES</span> <span class="n">ON</span> <span class="o">*</span> <span class="p">.</span> <span class="o">*</span> <span class="n">TO</span> <span class="err">&#39;</span><span class="n">rushiagr</span><span class="sc">&#39;@&#39;</span><span class="n">localhost</span><span class="err">&#39;</span>
</pre></div>


<p>Take a dump of database <code>rushi</code> and store it in a file <code>db.dump</code>. Execute this command in bash shell, and not in the MySQL shell.:</p>
<div class="highlight"><pre><span class="n">mysqldump</span> <span class="o">--</span><span class="n">user</span> <span class="n">root</span> <span class="n">rushi</span> <span class="o">&gt;</span> <span class="n">db</span><span class="p">.</span><span class="n">dump</span>
</pre></div>


<p>The End!</p>
<p>Comments/suggestions/feedback? Please feel free to comment and I'll make sure I acknowledge them to the fullest.</p>
<p>Cheers!</p>
    </div>
  </div>
  <hr class="separator">
  <div class="col-md-8 col-md-offset-2">
  <div id="disqus_thread">
    <script>
      var disqus_shortname = 'rushiagr';
      (function() {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] ||
         document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>
      Please enable JavaScript to view the
      <a href="https://disqus.com/?ref_noscript=rushiagr">
        comments powered by Disqus.
      </a>
    </noscript>
    <a href="https://disqus.com" class="dsq-brlink">
      blog comments powered by <span class="logo-disqus">Disqus</span>
    </a>
  </div>
  </div>
  </div>
<footer class="footer">
  <div class="container">
    <p class="text-center">
      Rushi Agrawal, <a href="" target="_blank"></a> unless otherwise noted.
    </p>
    <div class="text-center">
      Generated by <a href="http://getpelican.com" target="_blank">Pelican</a> with the <a href="http://github.com/nairobilug/pelican-alchemy">alchemy</a> theme.
    </div>
  </div>
</footer> <!-- /.footer -->
  <script src="http://rushiagr.github.io/theme/js/jquery.min.js"></script>
  <script src="http://rushiagr.github.io/theme/js/bootstrap.min.js"></script>
</body> <!-- 42 -->

</html>